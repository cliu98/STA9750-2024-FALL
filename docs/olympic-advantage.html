<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Aaron Cooper, Elissa Leung, Chris Liu, Will Peters">

<title>The Olympic Advantage – STA 9750 2024 Submission Material</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">STA 9750 2024 Submission Material</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#sports-culture-findings" id="toc-sports-culture-findings" class="nav-link" data-scroll-target="#sports-culture-findings">Sports Culture Findings</a></li>
  <li><a href="#economic-findings" id="toc-economic-findings" class="nav-link" data-scroll-target="#economic-findings">Economic Findings</a></li>
  <li><a href="#geography-findings" id="toc-geography-findings" class="nav-link" data-scroll-target="#geography-findings">Geography Findings</a></li>
  <li><a href="#host-country-findings" id="toc-host-country-findings" class="nav-link" data-scroll-target="#host-country-findings">Host Country Findings</a></li>
  <li><a href="#summary-of-findings" id="toc-summary-of-findings" class="nav-link" data-scroll-target="#summary-of-findings">Summary of Findings</a></li>
  <li><a href="#future-directions-for-research" id="toc-future-directions-for-research" class="nav-link" data-scroll-target="#future-directions-for-research">Future Directions for Research</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">The Olympic Advantage</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Aaron Cooper, Elissa Leung, Chris Liu, Will Peters </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p><img src="olympic_unity.webp" class="img-fluid"></p>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Every two years, people across the world turn their attention to the Olympic Games. This global event is a celebration of unity, cultural exchange, and human achievements: a chance for nations to set aside differences and come together for athletic competition. Each country sends their best athletes to compete in various events with the hopes of bringing the gold back home. This leads to the motivating question for this project analysis: ‘What makes a country succeed in the Olympics?’ The Olympics serve as a metaphor for national and cultural identity, competition, and international relations. This analysis helps uncover the key factors that contribute to a nation’s success in the Olympics.</p>
<p>The primary data source we utilized was the Kaggle 126 Years of Historical Olympic Dataset, which encompasses all historical records from every Olympic Games held between 1896 and 2022. The primary limitation in this data set is the inclusion of past participating nations that don’t exist anymore or use a different name in modern day. Additional data sources were used to supplement individual research topics; the primary obstacle with combining the datasets was wrestling with naming schemes to align the data properly for individual countries.</p>
<p>Prior studies on Olympic success have been conducted by different researchers, highlighting a fascination with understanding the dynamics behind achievements at this global event. Analysis conducted by personnel at Georgia Institute of Technology<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> and Dartmouth College<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> have focused solely on the economic impact on Olympic performance. Other publications have looked at investment into sports development<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> and wearable technology<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> as factors that influence athletic performance. Lastly, a strong focus on predictive modeling<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> has been researched since people seem to care about wagering on future results.</p>
<p>Our group has shifted our analysis ever so slightly. We’ll be incorporating a weighted medal count system in our analysis, where the value of gold is three times bronze &amp; silver is twice bronze. We want to identify multiple prevalent factors influencing success, and take a grouping approach of Olympic games with multiple years of history in order to highlight patterns and trends that successful countries share.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="olympic-advantage_files/figure-html/weighted_medal_counts-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="sports-culture-findings" class="level2">
<h2 class="anchored" data-anchor-id="sports-culture-findings">Sports Culture Findings</h2>
<p>A key factor influencing a country’s Olympic success is its sports culture—how resources are allocated to sports and how active the population is. Sports culture reflects not only spending but also community engagement in physical activities.</p>
<p>To explore this, we used data from Myprotein, ranking the sportiest countries based on activity levels, and Euromonitor, which provided insights into sports spending by country. The Euromonitor data, originally in local currencies, was standardized to USD for consistency.</p>
<p>Our findings revealed two major trends:</p>
<ol type="1">
<li>Countries that spend more on sports infrastructure and programs tend to win more Olympic medals.</li>
</ol>
<p><img src="sports_regression_1.png" class="img-fluid"></p>
<ol start="2" type="1">
<li>Countries with a more active population (greater sports participation) are more likely to produce successful athletes.</li>
</ol>
<p><img src="sports_map_2.png" class="img-fluid"></p>
<p>However, it’s important to recognize the limitations of this analysis. The spending and activity data represent a specific point in time, while Olympic medal counts reflect historical achievements to date. This mismatch prevents tracking how changes in sports investment over time impact success.</p>
<p>Despite this limitation, our analysis aligns with previous studies of European nations, showing a strong connection between sports spending and performance. Globally, this relationship holds true—investment in sports and fostering an active community creates an environment where athletes thrive.</p>
<p>In conclusion, a robust sports culture, supported by investment and participation, plays a vital role in nurturing athletic talent and driving a country’s success on the Olympic stage.</p>
</section>
<section id="economic-findings" class="level2">
<h2 class="anchored" data-anchor-id="economic-findings">Economic Findings</h2>
<p><img src="economics_gdpvsmedalrank_1.png" class="img-fluid"></p>
<p>Next, we looked at analyzing a country’s economic indicators to answer ‘Does a country’s economic performance affect its performance at the Olympics?’ A country’s economic output and its population size can drastically help support and fund the investment into sports facilities and training for athletes to help perform in the Olympics.</p>
<p>When analyzing the potential effect a country’s economy has on its Olympic performance, we decided to focus on a couple primary indicators. One being the overall GDP of a country. In this approach each country was ranked per Olympic year by their GDP and overall medal counts. When plotted together, the tendency that the top GDP countries produce the most Olympic medals holds true. As you go into the lower ranks of the data this relation becomes less consistent.</p>
<p>To measure a country’s economic performance, we used the Global Economic Indicators provided by the UN System of National Accounts. Specifically to gather the GDP output for a country in a given year. The biggest limitation in using this data is that the countries in the dataset don’t always match up one to one with the countries in the Olympic dataset and require some wrangling to settle.</p>
<p><img src="economics_gdp_rank_2.png" class="img-fluid"></p>
<p>To generalize the relationship, we took a look at a grouped approach. The top 10 GDP producing countries were placed in one group, then the top 50 outside of the top 10 then the remaining bottom countries. While some outliers exist that can’t be accounted for by economic factors alone, the ranges fall pretty in line with their respective medal ranks. The top medal countries are almost always also economic powerhouses.</p>
<p><img src="economics_winter_pop_3.png" class="img-fluid"></p>
<p>Another important economic factor which is highly related to GDP is population. Naturally a higher population would in theory give a better chance at producing Olympic athletes. In fact this relationship is pretty similar to as seen in GDP but not as strong. However it is interesting to note that generally less countries participate in the Winter Olympics and produces a generally tighter spread between the Population and Medal rank. Given our findings it seems evident that wealthier countries who inherently have more resources to invest in sports, perform better at the Olympics, albeit with some exceptions.</p>
</section>
<section id="geography-findings" class="level2">
<h2 class="anchored" data-anchor-id="geography-findings">Geography Findings</h2>
<p>Geography fundamentally shapes countries by determining their natural resources and climates. There are multitudes of factors influenced by geography, this study aims to highlight the influences of latitude and climate zones. One specific analysis aims to answer the question: ‘Does a country’s geographic characteristics affect its performance at the Olympics?’ Geographical data provides valuable insights into how factors such as location, climate, and available resources influence a nation’s performance in the Olympics. This holistic approach allows for identifying patterns and trends that successful countries share environmentally.</p>
<p>A supplemental data source utilized in this specific analysis was the Google Developers coordinate system. This dataset includes average longitude and latitude coordinates for modern countries. However, a limitation of this approach is that these average coordinates may not accurately capture a country’s location, particularly for large landmass countries like the U.S., which spans multiple lines of longitude and latitude.</p>
<p>Another supplemental data source used was the World Bank historical population estimates. This dataset contains a comprehensive list of population estimates for countries dating back to 1960. However, there is some uncertainty regarding the accuracy of older records, particularly those compiled before the use of digital census methods.</p>
<p><img src="geography_winter_1.png" class="img-fluid"></p>
<p>Within the Winter Olympics, countries located far from the equator exhibit success. Although no mathematical relationship can be defined, it can be assumed that some relationship exists. It can be concluded that countries located in warmer climates have little success due to lack of resources available to replicate a winter sport setting. A limitation here is the lack of data points available to analyze, as the Winter Olympics have a smaller number of medals available to distribute as compared to the summer counterpart.</p>
<p><img src="geography_summerlat1_2.png" class="img-fluid"></p>
<p>Turning attention to the Summer Olympics, there is no linear relationship between latitude and medals. To investigate further, the data is normalized by population size in an attempt to linearize the relationship.</p>
<p><img src="geography_summerlat2_3.png" class="img-fluid"></p>
<p>After normalization, the overall shape of the graph doesn’t change significantly. Although no linear relationship can be concluded, other assumptions can be made about the effects of population. Population size doesn’t have a strong influence on success at the Summer Olympics with relation to where a country is located. This implies that other factors, such as socio-economic ones, are more prominent in determining how a country performs.</p>
<p><img src="geography_summerlat3_4.png" class="img-fluid"></p>
<p>To take this analysis one step further, a statistical transformation called the Box-Cox transformation was performed. This transformation is a technique used to stabilize the variance and make the data more closely approximate a normal distribution. A logarithmic transformation was applied to the data, which ends up resulting in a linear shape. This helps conclude that there is a positive relationship between latitude and success; however it is not linear meaning other factors not studied play a role in influencing performance. Some of those other factors are explored in the other portion of this report.</p>
<p><img src="geography_winterclimate_5.png" class="img-fluid"></p>
<p><img src="geography_summerclimate_6.png" class="img-fluid"></p>
<p>Within both Olympic Game settings, countries that exist in the temperate climate zones showcase dominance. There is strong reason to believe that countries in the temperate zone have access to resources that are not as readily available to other countries, which significantly influences their outcomes.</p>
</section>
<section id="host-country-findings" class="level2">
<h2 class="anchored" data-anchor-id="host-country-findings">Host Country Findings</h2>
<p>Lastly, we looked at the “host country advantage”, answering the question “Does being the host country impact a country’s performance at the Olympics?” Being the host country could lead to various perceived <em>advantages</em> such as more athlete participation and home field/court advantage. Through the analysis, we hope to uncover whether being the host contributes to a significant advantage in achieving more Olympic success.</p>
<p>To expand our host country analysis, we used a supplemental 2024 Paris Olympics Kaggle data source. Similar to our main data set, this source includes extensive and unbiased information (e.g.&nbsp;athletes, events, medal counts) from the most recent Summer Olympics.</p>
<p>From a preliminary look at the historical weighted medal counts for each host country over time, we find that there is a general pattern of host countries earning a higher weighted medal count during their host year.</p>
<p><img src="host_medal_count_summer_1.png" class="img-fluid"></p>
<p><img src="host_medal_count_winter_2.png" class="img-fluid"> However, to determine the existence of an advantage we also performed some statistical modeling.</p>
<p>From our classification models predicting host status using weighted total medal count, year, country, and Olympic season, we found the weighted total medal counts variable scored the highest in importance. This indicates that there is a strong association between a higher weighted medal performance and hosting the Olympics, even after considering other variables like year, country, and season.</p>
<p><img src="host_variable_importance_3.png" class="img-fluid"></p>
<p>Lastly, through a time series analysis projecting the host year weighted medal count against the actual weighted medal count, we found that in 92% of these cases, the actual weighted medal counts exceeded the projections. These findings provide us with good evidence that there is some “host impact” on the country’s weighted total medal counts.</p>
<p><img src="host_arima_projections_4.png" class="img-fluid"></p>
<p>Within this analysis, there are some limitations to consider, such as unmodeled variables within each host country that could also be contributing to their Olympic success (e.g.&nbsp;economic stability, athlete participation, athletic investment, etc.). Even so, the strong correlation between hosting the Olympics and achieving a more successful Olympic performance remains undeniable.</p>
</section>
<section id="summary-of-findings" class="level2">
<h2 class="anchored" data-anchor-id="summary-of-findings">Summary of Findings</h2>
<p>From our analysis, we found that a combination of various factors contribute to a country’s success at the Olympics. Economic powerhouses and nations with a strong sports culture are often the most successful at the Olympics, leading the weighted medal counts. There is a correlation between where a country is located and success at the Olympics; however this is heavily influenced by available resources and historical infrastructure resulting from environmental factors. Finally, host nations typically achieve their greatest success during their host year, leveraging the advantages of hosting. While each factor plays a distinct part, it is their combined influence that provides a complete understanding of overall Olympic success.</p>
</section>
<section id="future-directions-for-research" class="level2">
<h2 class="anchored" data-anchor-id="future-directions-for-research">Future Directions for Research</h2>
<p>Building on the findings from this report and previous studies, there are several areas we can explore further to gain a deeper understanding of what makes a country successful in the Olympics. Some key recommendations include:</p>
<ol type="1">
<li><strong>Multi-Factor Analysis by Country</strong> This would involve analyzing all four components discussed in this report together to see how they interact with one another. For example, we could identify which factor has the most significant impact on a country’s gold medal count or how these factors influence each other. This holistic approach could offer new insights into Olympic success.</li>
<li><strong>Deeper Exploration in the Data</strong> A deeper dive into specific significant Olympic events would further help supplement our findings. Our current research serves as a general overview of Olympic trends. By honing in on more specific outcomes, like the most recent olympics, we could better infer why China for example is going neck in neck with the United States in medal count now. Or why smaller countries like Australia or the Netherlands perform way above their rate.<br>
</li>
<li><strong>Country-Specific Athlete Rewards</strong> Another interesting angle would be to explore the impact of monetary rewards or incentives provided by countries to their athletes. By focusing on how these rewards motivate athletes to perform better, we could understand whether higher reward values lead to greater Olympic success.</li>
</ol>
<p>To learn more about each specific analysis:</p>
<ul>
<li><a href="https://will-peters.github.io/STA9750-2024-FALL/Olympic_Spend.html" class="uri">https://will-peters.github.io/STA9750-2024-FALL/Olympic_Spend.html</a></li>
<li><a href="https://aaronkcooper.github.io/STA9750-2024-FALL/olympic_economics.html" class="uri">https://aaronkcooper.github.io/STA9750-2024-FALL/olympic_economics.html</a></li>
<li><a href="https://cliu98.github.io/STA9750-2024-FALL/individual_report.html" class="uri">https://cliu98.github.io/STA9750-2024-FALL/individual_report.html</a></li>
<li><a href="https://elissaleung.github.io/STA9750-2024-FALL/olympics-host.html" class="uri">https://elissaleung.github.io/STA9750-2024-FALL/olympics-host.html</a></li>
</ul>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Boudreau, Jennifer, James Kepner, and Joseph Rondone. “The Miracle on Thin Ice: How a Nation’s GDP Affects Its Olympic Performance.” Georgia Institute of Technology, https://repository.gatech.edu/server/api/core/bitstreams/1aa2b537-c3de-4177-8295-3fcd3a03a965/content<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Bernard, Andrew B. “Olympic Medal Count: A Statistical Analysis.” 2018, Dartmouth College, faculty.tuck.dartmouth.edu/images/uploads/faculty/andrew-bernard/olymp60restat_finaljournalversion.pdf.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Yanatma, Servet “Did European countries spending more on sports perform better at the Olympics?” https://www.euronews.com/2024/08/28/did-european-countries-spending-more-on-sports-perform-better-at-the-olympics<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>VanHeest, Jaci “Wearable Technologies Help Olympians A chieve Top Performance” https://today.uconn.edu/2018/02/wearable-technologies-help-olympians-achieve-top-performance/<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>Duncan, Robert C. and Parece, Andrew. ‘Population-adjusted National Rankings in the Olympics’. 1 Jan.&nbsp;2024 : 87 – 104., https://content.iospress.com/articles/journal-of-sports-analytics/jsa240874<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/cliu98\.github\.io\/STA9750-2024-FALL\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>